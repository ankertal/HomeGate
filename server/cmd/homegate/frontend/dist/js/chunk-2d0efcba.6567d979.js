(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0efcba"],{"9a40":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("header",{staticClass:"jumbotron"},[s("h3",[t._v("\n      HomeGate's "),s("strong",[t._v(t._s(t.currentUser.username))]),t._v(" Settings:\n    ")])]),t.successful?t._e():s("div",[t.content?s("div",{staticClass:"alert",class:t.successful?"alert-success":"alert-danger"},[t._v("\n      "+t._s(t.content)+"\n    ")]):t._e()]),t.successful?s("div",[s("strong",[t._v("Gates:")]),s("ul",t._l(t.content.gates,(function(e,n){return s("li",{key:n},[s("b-dropdown",{staticClass:"m-2",attrs:{variant:t.gateVariantInList(n),size:"md",text:e}},[s("b-dropdown-item",{attrs:{active:""},on:{click:function(e){return t.gateCommand(n,"is_open")}}},[t._v("Open")]),s("b-dropdown-item",{on:{click:function(e){return t.gateCommand(n,"is_close")}}},[t._v("Close")]),t.isMyGate(n)?s("span",[s("b-dropdown-item",{attrs:{disabled:""}},[t._v("Delete")])],1):s("span",[s("b-dropdown-item",{on:{click:function(e){return t.deleteGate(n)}}},[t._v("Delete")])],1)],1)],1)})),0)]):t._e(),t.successful?s("div",[s("strong",[t._v("My ("+t._s(t.currentUser.my_gate)+") friends: ")]),s("ul",{attrs:{id:"uses-list"}},t._l(this.content.users,(function(e,n){return s("li",{key:e},[t._v("\n        "+t._s(e)+"\n      ")])})),0),s("b-input-group",{staticClass:"mb-3",attrs:{prepend:"Friend:"}},[s("b-form-input",{attrs:{state:t.isEmailValid(this.email)},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("b-input-group-append",[s("b-button",{attrs:{variant:"outline-success"},on:{click:function(e){return t.addUser(t.currentUser.my_gate)}}},[t._v("Add")]),s("b-button",{attrs:{variant:"info"},on:{click:function(e){return t.deleteUser(t.currentUser.my_gate)}}},[t._v("Delete")])],1)],1)],1):t._e(),this.showCommandStatus?s("div",[s("b-alert",{attrs:{show:t.dismissCountDown,variant:t.alertVariant,dismissible:""},on:{"dismiss-count-down":t.countDownChanged}},[t._v("\n      "+t._s(this.message))])],1):t._e()])},i=[],a=(s("6762"),s("2fdb"),s("6b54"),s("1f57")),r={name:"User",computed:{currentUser:function(){return this.$store.state.auth.user}},data:function(){return{content:"",message:"",cmdError:!1,showCommandStatus:!1,successful:!1,newGateText:"",msg:[],email:"",ismissCountDown:null,showDismissibleAlert:!1,alertVariant:"info"}},mounted:function(){var t=this;a["a"].getUserBoard().then((function(e){t.content=e.data,t.successful=!0,t.items=t.content.gates}),(function(e){t.successful=!1,t.content=e.response&&e.response.data&&e.response.data.message||e.message||e.toString()}))},methods:{addGate:function(){""!=this.newGateText&&(this.content.gates.push(this.newGateText),this.newGateText="")},deleteGate:function(t){var e=this.content.gates[t],s=this.content.user_gate;e!=s&&this.content.gates.splice(t,1)},isMyGate:function(t){var e=this.content.gates[t],s=this.content.my_gate;return e===s},gateVariantInList:function(t){return this.isMyGate(t)?"outline-danger":"primary"},gateCommand:function(t,e){var s=this;this.message="",this.cmdError=!1;var n=this.content.gates[t];a["a"].triggerCommand(this.currentUser,n,e).then((function(t){t.isAxiosError||t.is_error?(s.message=t.message,s.showCommandStatus=!0,s.showAlert("danger")):(s.cmdError=t.is_error,s.message=t.message,s.showCommandStatus=!s.cmdError,s.showAlert("info"))}),(function(t){s.cmdError=!0,s.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),s.showAlert("danger")}))},addUser:function(t){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.email)&&(this.content.users.includes(this.email)||this.content.users.push(this.email),this.email="")},deleteUser:function(t){if(this.email!=this.currentUser.email){var e=this.content.users.indexOf(this.email);e>-1&&this.content.users.splice(e,1)}},isEmailValid:function(t){return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t){this.dismissCountDown=2,this.alertVariant=t}}},o=r,c=s("2877"),u=Object(c["a"])(o,n,i,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0efcba.6567d979.js.map