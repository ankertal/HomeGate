(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0efcba"],{"9a40":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container"},[e("header",{staticClass:"jumbotron"},[e("h3",[t._v("\n      HomeGate's "),e("strong",[t._v(t._s(t.currentUser.username))]),t._v(" Settings:\n    ")])]),t.successful?t._e():e("div",[t.content?e("div",{staticClass:"alert",class:t.successful?"alert-success":"alert-danger"},[t._v("\n      "+t._s(t.content)+"\n    ")]):t._e()]),t.successful?e("div",[e("strong",[t._v("Gates:")]),e("ul",t._l(t.content.gates,(function(s,a){return e("li",{key:a},[e("nav",{staticClass:"navbar navbar-expand-lg navbar-light bg-light"},[e("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t.isMyGate(a)?e("span",{staticStyle:{color:"red"}},[t._v(t._s(s))]):t._e(),t.isMyGate(a)?t._e():e("span",{staticStyle:{color:"blue"}},[t._v(t._s(s))])]),t._m(0,!0),e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarNav"}},[e("ul",{staticClass:"navbar-nav"},[e("b-button",{attrs:{pill:"",variant:"outline-success",size:"sm"},on:{click:function(s){return t.gateCommand(a,"is_open")}}},[t._v("Open")]),e("b-button",{attrs:{pill:"",variant:"outline-warning",size:"sm"},on:{click:function(s){return t.gateCommand(a,"is_close")}}},[t._v("Close")]),e("b-button",{attrs:{pill:"",variant:"outline-danger",size:"sm",disabled:t.isMyGate(a)},on:{click:function(s){return t.deleteGate(a)}}},[t._v("\n                Delete\n              ")]),t.isMyGate(a)?e("div",{staticClass:"input-group input-group-sm mb-3"},[e("div",{staticClass:"input-group-prepend"},[e("b-button",{attrs:{pill:"",variant:"outline-dark",size:"sm"},on:{click:function(s){return t.addUser(a)}}},[t._v("Add User")])],1),e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"text",required:""},domProps:{value:t.email},on:{input:function(s){s.target.composing||(t.email=s.target.value)}}}),t.msg.email?e("span",[t._v("  "+t._s(t.msg.email))]):t._e()]):t._e()],1)])])])})),0)]):t._e(),t.successful?e("div",[e("strong",[t._v("My ("+t._s(t.currentUser.my_gate)+") friends: ")]),e("ul",{attrs:{id:"uses-list"}},t._l(this.content.users,(function(s,a){return e("li",[t._v("\n        "+t._s(s)+"\n      ")])})),0)]):t._e(),this.showCommandStatus?e("div",[e("b-alert",{attrs:{show:t.dismissCountDown,variant:t.alertVariant,dismissible:""},on:{"dismiss-count-down":t.countDownChanged}},[t._v("\n      "+t._s(this.message))])],1):t._e()])},n=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"}},[e("span",{staticClass:"navbar-toggler-icon"})])}],i=(e("6b54"),e("1f57")),r={name:"User",computed:{currentUser:function(){return this.$store.state.auth.user}},data:function(){return{content:"",message:"",cmdError:!1,showCommandStatus:!1,successful:!1,newGateText:"",newUserText:"",msg:[],email:"",ismissCountDown:null,showDismissibleAlert:!1,alertVariant:"info"}},watch:{email:function(t){this.email=t,this.validateEmail(t)}},mounted:function(){var t=this;i["a"].getUserBoard().then((function(s){t.content=s.data,t.successful=!0,t.items=t.content.gates}),(function(s){t.successful=!1,t.content=s.response&&s.response.data&&s.response.data.message||s.message||s.toString()}))},methods:{addGate:function(){""!=this.newGateText&&(this.content.gates.push(this.newGateText),this.newGateText="")},deleteGate:function(t){var s=this.content.gates[t],e=this.content.user_gate;s!=e&&this.content.gates.splice(t,1)},isMyGate:function(t){var s=this.content.gates[t],e=this.content.my_gate;return s===e},gateCommand:function(t,s){var e=this;this.message="",this.cmdError=!1;var a=this.content.gates[t];i["a"].triggerCommand(this.currentUser,a,s).then((function(t){t.isAxiosError||t.is_error?(e.message=t.message,e.showCommandStatus=!0,e.showAlert("danger")):(e.cmdError=t.is_error,e.message=t.message,e.showCommandStatus=!e.cmdError,e.showAlert("info"))}),(function(t){e.cmdError=!0,e.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString(),e.showAlert("danger")}))},addUser:function(){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.email)&&(this.content.users.push(this.email),this.newUserText="")},validateEmail:function(t){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t)?this.msg["email"]="":this.msg["email"]="Invalid Email"},countDownChanged:function(t){this.dismissCountDown=t},showAlert:function(t){this.dismissCountDown=2,this.alertVariant=t}}},o=r,l=e("2877"),c=Object(l["a"])(o,a,n,!1,null,null,null);s["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d0efcba.2c9d2e3a.js.map